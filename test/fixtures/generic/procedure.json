{
    "name": "Procedure",
    "states": {
        "Initial": {
            "type": "Initial",
            "direct_transition": "Inpatient_Encounter"
        },
        "Inpatient_Encounter": {
            "type": "Encounter",
            "encounter_class": "inpatient",
            "codes": [{
                "system": "SNOMED-CT",
                "code": "32485007",
                "display": "Hospital admission"
            }],
            "direct_transition": "Appendectomy"
        },
        "Appendectomy": {
            "type": "Procedure",
            "target_encounter": "Inpatient_Encounter",
            "codes": [{
                "system": "SNOMED-CT",
                "code": "6025007",
                "display": "Laparoscopic appendectomy"
            }],
            "assign_to_attribute" : "Most Recent Surgery",
            "direct_transition": "Procedure_Uses_Args"
        },
        "Procedure_Uses_Args": {
          "type": "Procedure",
          "target_encounter": "{procedure_encounter}",
          "reason": "{a_good_reason}",
          "codes": [{
              "system": "SNOMED-CT",
              "code": "6025007",
              "display": "Laparoscopic appendectomy"
          }],
          "direct_transition": "Terminal"
        },
        "Terminal": {
            "type": "Terminal"
        }
    }
}
