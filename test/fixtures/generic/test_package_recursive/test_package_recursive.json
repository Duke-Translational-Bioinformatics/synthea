{
  "name": "Recursive Test Package",
  "package": "test_package_recursive",
  "remarks": [
    "Recursively calls submodules to test pushing ",
    "additional contexts onto the stack."
  ],
  "states": {

    "Initial": {
      "type": "Initial",
      "direct_transition": "Example_Condition"
    },

    "Example_Condition": {
      "type": "ConditionOnset",
      "target_encounter": "Encounter_In_Submodule",
      "codes": [
        {
          "system": "SNOMED-CT",
          "code": "12345678",
          "display": "Examplitis"
        }
      ],
      "direct_transition": "Call_Encounter_Submodule"
    },

    "Call_Encounter_Submodule": {
      "type": "CallSubmodule",
      "submodule": "Encounter Submodule",
      "args": {
        "condition": "Example_Condition"
      },
      "direct_transition": "End_Medication"
    },

    "End_Medication": {
      "type": "MedicationEnd",
      "remarks": [
        "Ends a medication that was ordered in a submodule."
      ],
      "medication_order": "Examplitis_Medication",
      "direct_transition": "End_Condition"
    },

    "End_Condition": {
      "type": "ConditionEnd",
      "condition_onset": "Example_Condition",
      "direct_transition": "Terminal"
    },

    "Terminal": {
      "type": "Terminal"
    }
  }
}
